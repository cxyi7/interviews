<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
	</head>
	<body>
		<div id="a">
			<div class="sa">s</div>
			<div>sa</div>
			<div>a</div>
			<div>w</div>
			<div>q</div>
			<div>tr</div>
		</div>
		<button>
			<div>
				点击
		    </div>
		</button>
		<script>
			// const a = document.getElementById('a')
			// a.addEventListener('click', (e) => {
			// 	if(e.target.matches('div.sa')) {
			// 		console.log('sss')
			// 	}
			// })
			
			function bindEvent(ele, type, selector, fn) {
				if (fn == null) {
					fn = selector
					selector = null
				}
				ele.addEventListener(type, (event) => {
					const target = event.target
					if (selector) {
						if (target.matches(selector)) {
							fn.call(target, event)
						}
					} else {
						fn.call(ele, event)
					}
				})
			}
			
			// 普通绑定
			// const btn = document.querySelector('button')
			// bindEvent(btn, 'click', (e) => {
			// 	console.log(e.target)
			// })
			// btn.addEventListener('click', (e) => {
			// 	console.log(e.target)
			// })
			// 代理绑定
			// const dd = document.getElementById('a')
			// bindEvent(dd, 'click', 'div' , (e) => {
			// 	e.stopPropagation()
			// 	console.log(e.target.innerText)
			// })
		</script>
	</body>
</html>